<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style1.css">
    <title>Javascript lesson 2</title>

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="row mt-5">
                    <div class="col-md-6">
                        <input type="text" class="form-control" onkeyup="mainPay()" id="kridetSum"
                            placeholder="Kredit Summasi">
                    </div>
                    <div class="col-md-6">
                        <input type="text" class="form-control" onkeyup="mainPay()" id="kridetPay"
                            placeholder="Boshlang'ich to'lov">
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-6">
                        <select name="#" class="form-control" onchange="mainPay()" id="kridetFoiz">
                            <option value="14">14%</option>
                            <option value="18">18%</option>
                            <option value="24">24%</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <select name="#" class="form-control" id="kridetYil">
                            <option value="1">1 yil</option>
                            <option value="3">3 yil</option>
                            <option value="5">5 yil</option>
                        </select>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-4">
                        <input type="text" class="form-control disabled" disabled id="resultSumma">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control disabled" disabled id="resultPay">
                    </div>
                    <div class="col-md-4">
                        <button type="button" class="btn btn-success" onclick="hisob()">Hisoblash</button>
                    </div>
                </div>

            </div>
        </div>
        <div class="row mt-4">
            <div class="col">
                <table class="table table-hover table-striped table-bordered">
                    <tr>
                        <th>T/R</th>
                        <th>Oylar</th>
                        <th>Kridet Summasi</th>
                        <th>Oylik foiz to'lovi</th>
                        <th>Jami summa</th>
                    </tr>
                    <tbody id="table">

                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="row">
                    
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 offset-3">
                <input type="text" class="form-control" id="inputQ">
                <button type="button" class="btn btn-success mt-2" onclick="tekshirish()">Tekshirish</button>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-md-6 offset-3">
                <input type="text" class="form-control" id="inputT">
                <button type="button" class="btn btn-warning mt-2" onclick="ogirish()">O'girish</button>
            </div>
        </div>
    </div>
</body>
<script src="js/jquery.slim.min.js"></script>
<script src="js/src/popover.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript">

    function mainPay() {
        var inputSum = document.getElementById('kridetSum').value;
        var inputPay = document.getElementById('kridetPay').value;
        var inputFoiz = document.getElementById('kridetFoiz').value;

        if (inputSum != '' && inputPay != '') {

            var x = parseInt(inputSum) - parseInt(inputPay);
            var foizSumma = (x * inputFoiz) / 100;

            document.getElementById('resultSumma').value = x;
            document.getElementById('resultPay').value = foizSumma;
        }

        else {
            document.getElementById('resultSumma').value = '';
            document.getElementById('resultPay').value = '';
        }

    }

    var array = ['Yanvar', 'Fevral', 'Mart', 'April', 'May', 'Iyun', 'Iyul', 'August', 'Sentabr', 'Oktabr', 'Noyabr', 'Dekabr'];

    function hisob(){

        var inputSum = document.getElementById('kridetSum').value;
        var inputPay = document.getElementById('kridetPay').value;
        var inputFoiz = document.getElementById('kridetFoiz').value;
        var muddat = document.getElementById('kridetYil').value;
        
        var allSum = inputSum - inputPay;
        var foiz = ((allSum * inputFoiz) / 100) * muddat;   
        var foizSum = foiz / 12;
        var oySum = allSum / 12;
        
        muddat = muddat * 12;
        var allTr = '';

        for(var i = 0; i < muddat; i++){
            var tr = '<tr><td>'+ (i+1) +'</td><td>'+ array[i % 12] +'</td><td>'+ oySum +'</td><td>'+ foizSum+'</td><td>'+(oySum + foizSum)+'</td></tr>';
            allTr += tr;
        }
        document.getElementById('table').innerHTML = allTr;


    }

    function tekshirish (){
        var a = document.getElementById('inputQ').value;
        var j = 0;

        for (var i = 0; i < a.length; i++){
            if(a[i] == '('){
                j++;
            }else if (a[i] == ')'){
                j--;
            }
        }

        if(j!=0){
            alert('Qovus noto\'g\'ri yopilgan');
            j=0;
        }
        else {
            alert('Qovus to\'g\'ri yopilgan');
            j=0;
        }
    }
   
    function ogirish (){
        var a = document.getElementById('inputT').value;
        var all= '';
        for(var i = a.length-1; i >= 0; i--){
            all += a[i]
            
        }
        alert(all);
    }

</script>

</html>